(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{53:function(e,n,t){e.exports=t(93)},91:function(e,n,t){},93:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(43),d=t.n(r),i=t(50),s=t(14),l=t(21),c=t(22),u=t(27),m=t(23),N=t(28),h=t(12),f=t.n(h),p=t(17),k=t(18),g=t(7),v=t(15),b=t.n(v),x=t(35),E=t.n(x),w=t(10),O=t(9);t(83);function S(){var e=Object(g.a)(["\n  background: ",";\n  color: ",";\n  font-family: Ozxgen, sans-serif;\n  margin: 0px 0px 5px 0px !important;\n  box-shadow: ",";\n  border-radius: ",";\n  vertical-align: middle;\n  display: flex;\n  flex-direction: row;\n"]);return S=function(){return e},e}function I(){var e=Object(g.a)(["\n  background: ",";\n  display: flex;\n  flex-direction: column;\n  padding 5px 75px;\n"]);return I=function(){return e},e}function L(){var e=Object(g.a)(["\n  margin-left: 10px;\n  color: green;\n"]);return L=function(){return e},e}function y(){var e=Object(g.a)(["\n  margin-left: 10px;\n  color: red;\n"]);return y=function(){return e},e}function j(){var e=Object(g.a)(["\n  cursor: pointer;\n  margin-left: 15px;\n  font-size: 15px;\n  padding: 0px 5px 2px 5px;\n  border: 1px solid #eee;\n  border-radius: 5px;\n  &:hover {\n    border: 1px solid #ddd;\n    background: white;\n  }\n"]);return j=function(){return e},e}function A(){var e=Object(g.a)(["\n  cursor: pointer;\n  padding: 0px 0px 0px 15px;\n  font-size: 15px;\n  margin-right: ","px;\n"]);return A=function(){return e},e}function C(){var e=Object(g.a)(["\n  width: 20%;\n  display: flex;\n  flex-direction: row;\n"]);return C=function(){return e},e}function P(){var e=Object(g.a)(["\n  padding-left: ","px;\n  width: 80%;\n  display: flex;\n  flex-direction: row;\n"]);return P=function(){return e},e}function R(){var e=Object(g.a)(["\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 5px 8px;\n  &:hover {\n    background: lightgray;\n  }\n  background: ",";\n"]);return R=function(){return e},e}var B=O.a.div(R(),function(e){return e.isSelected?"#ddd":"none"}),z=O.a.div(P(),function(e){return 20*e.level}),T=O.a.div(C()),H=O.a.div(A(),function(e){return e.marginRight?e.marginRight:5}),F=O.a.div(j()),$=O.a.div(y()),D=O.a.div(L()),J=O.a.div(I(),function(e){return e.isSelected?"#eee":"none"}),V=O.a.div(S(),function(e){return function(e){var n="#e0ffff";return"header"===e?n="#eee":"hd"===e?n="#e0ffff":"fk"===e?n="#F8E831":"am"===e&&(n="#146EB4"),n}(e.retailer)},function(e){return function(e){var n="#000";return"fk"===e?n="#047BD5":"am"===e&&(n="#FF9900"),n}(e.retailer)},function(e){return"header"===e.retailer?"0px":"0px 0px 5px 0px rgba(15, 15, 15, 0.2)"},function(e){return"header"===e.retailer?"0px":"10px"}),G=function e(n){var t=n.node,a=n.getChildNodes,r=n.level,d=n.onToggle,i=n.retailer,s=n.onHover,l=n.onSelectNode,c=n.onAddNode,u=n.removeLink,m=n.showRemoveButton;return o.a.createElement(o.a.Fragment,null,o.a.createElement(B,{level:r,isSelected:t.isSelected},o.a.createElement(z,{level:r},o.a.createElement(H,{onClick:function(){return d(i,t)},onMouseOver:function(){return s(i,t)}},a(i,t).length>0&&(t.isOpen?o.a.createElement(w.a,null):o.a.createElement(w.b,null))),o.a.createElement("span",{className:"tree-node-name-span",role:"button",onClick:function(){return d(i,t)},onMouseOver:function(){return s(i,t)}},t.nodeName)),o.a.createElement(T,null,o.a.createElement(F,{onClick:function(){return l(i,t)}},o.a.createElement(w.d,null)),o.a.createElement(F,{onClick:function(){return c(i,t)}},o.a.createElement(w.e,null)),t.linkedNodes.length>0?o.a.createElement(D,null,o.a.createElement(w.c,null)):o.a.createElement($,null,o.a.createElement(w.f,null)))),t.isSelected&&o.a.createElement(J,{isSelected:t.isSelected},o.a.createElement("label",null,o.a.createElement("b",null,"Currently Linked Nodes")),t.linkedNodes.map(function(e){return o.a.createElement(o.a.Fragment,{key:e.nodeId},o.a.createElement(V,{retailer:e.retailer,className:"hd"===i?"selected-node-inner-div-x":"selected-node-inner-div"},o.a.createElement("label",null,e.nodePath),"hd"===i&&o.a.createElement(w.g,{onClick:function(){return m(e.nodeId+"removebtn")}})),o.a.createElement("button",{id:e.nodeId+"removebtn",className:"custom-btn linkedNodeRemoveBtn",onClick:function(){return u(t,e)}},"Remove Link"))})),t.isOpen&&a(i,t).map(function(t){return o.a.createElement(e,Object.assign({},n,{node:t,level:r+1,key:t.nodeId}))}))};G.defaultProps={level:0};var M=G;function W(){var e=Object(g.a)(["\n  background: ",";\n  color: ",";\n  font-family: Ozxgen, sans-serif;\n  margin: 0px 0px 5px 0px !important;\n  box-shadow: ",";\n  border-radius: ",";\n  vertical-align: middle;\n  display: flex;\n  flex-direction: row;\n"]);return W=function(){return e},e}function q(){var e=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  padding 5px 75px;\n"]);return q=function(){return e},e}function K(){var e=Object(g.a)(["\n  mutation removeLink($nodeId: String!, $nodeToDelete: linkedNodeInput!) {\n    removeLink(nodeId: $nodeId, nodeToDelete: $nodeToDelete) {\n      flipkartNodes {\n        nodeId\n        nodeName\n        pathString\n        pathNameString\n        pathLength\n        linkedNodes {\n          retailer\n          nodeId\n          nodePath\n        }\n      }\n      amazonNodes {\n        nodeId\n        nodeName\n        pathString\n        pathNameString\n        pathLength\n        linkedNodes {\n          retailer\n          nodeId\n          nodePath\n        }\n      }\n      huddlieNodes {\n        nodeId\n        nodeName\n        pathString\n        pathNameString\n        pathLength\n        linkedNodes {\n          retailer\n          nodeId\n          nodePath\n        }\n      }\n    }\n  }\n"]);return K=function(){return e},e}function Q(){var e=Object(g.a)(["\n  mutation linkNodes($nodeId: String!, $nodeList: [linkedNodeInput]!) {\n    linkNodes(nodeId: $nodeId, nodeList: $nodeList) {\n      flipkartNodes {\n        nodeId\n        nodeName\n        pathString\n        pathNameString\n        pathLength\n        linkedNodes {\n          retailer\n          nodeId\n          nodePath\n        }\n      }\n      amazonNodes {\n        nodeId\n        nodeName\n        pathString\n        pathNameString\n        pathLength\n        linkedNodes {\n          retailer\n          nodeId\n          nodePath\n        }\n      }\n      huddlieNodes {\n        nodeId\n        nodeName\n        pathString\n        pathNameString\n        pathLength\n        linkedNodes {\n          retailer\n          nodeId\n          nodePath\n        }\n      }\n    }\n  }\n"]);return Q=function(){return e},e}function U(){var e=Object(g.a)(["\n  mutation getNodesAsObj($retailer: String!) {\n    getNodesAsObj(retailer: $retailer) {\n      nodes\n    }\n  }\n"]);return U=function(){return e},e}var X=b()(U()),Y=b()(Q()),Z=b()(K()),_=O.a.div(q()),ee=O.a.div(W(),function(e){return function(e){var n="#e0ffff";return"header"===e?n="#eee":"hd"===e?n="#e0ffff":"fk"===e?n="#F8E831":"am"===e&&(n="#146EB4"),n}(e.retailer)},function(e){return function(e){var n="#000";return"fk"===e?n="#047BD5":"am"===e&&(n="#FF9900"),n}(e.retailer)},function(e){return"header"===e.retailer?"0px":"0px 0px 5px 0px rgba(15, 15, 15, 0.2)"},function(e){return"header"===e.retailer?"0px":"10px"}),ne=function(e){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=Object(u.a)(this,(e=Object(m.a)(n)).call.apply(e,[this].concat(o)))).state={showFlipkartNodes:!0,showAmazonNodes:!1,toggleOnHover:!1,fkNodes:{},amNodes:{},hdNodes:{},fkSelected:"",amSelected:"",hdSelected:"",linkNodesNode:{nodeId:"",nodePath:""},linkNodesNodeList:[]},t.getRootNodes=function(e){var n={};switch(e){case"hd":n=t.state.hdNodes;break;case"fk":n=t.state.fkNodes;break;case"am":n=t.state.amNodes}return E()(n).filter(function(e){return 0===e.pathLength})},t.getChildNodes=function(e,n){var a={};switch(e){case"hd":a=t.state.hdNodes;break;case"fk":a=t.state.fkNodes;break;case"am":a=t.state.amNodes}return E()(a).filter(function(e){return e.pathNameString===n.tempPath})},t.onHover=function(e,n){t.state.toggleOnHover&&!n.isOpen&&t.onToggle(e,n)},t.onToggle=function(e,n){var a=e+"Nodes",o={};switch(e){case"hd":o=t.state.hdNodes;break;case"fk":o=t.state.fkNodes;break;case"am":o=t.state.amNodes}o[n.tempPath].isOpen=!n.isOpen,t.setState(Object(k.a)({},a,o))},t.onSelectNode=function(e,n){var a,o=e+"Nodes",r=e+"Selected",d={},i="";switch(e){case"hd":d=t.state.hdNodes,i=t.state.hdSelected;break;case"fk":d=t.state.fkNodes,i=t.state.fkSelected;break;case"am":d=t.state.amNodes,i=t.state.amSelected}""!==i&&i!==n.tempPath&&(d[i].isSelected=n.isSelected),d[n.tempPath].isSelected=!n.isSelected,t.setState((a={},Object(k.a)(a,o,d),Object(k.a)(a,r,n.tempPath),a))},t.onAddNode=function(e,n){var a="";if("hd"===e)a=n.pathLength>0?n.pathNameString+">"+n.nodeName:n.nodeName,""===t.state.linkNodesNode.nodeId?t.setState({linkNodesNode:{nodeId:n.nodeId,nodePath:a}}):t.state.linkNodesNode.nodeId!==n.nodeId&&t.setState({linkNodesNode:{nodeId:n.nodeId,nodePath:a},linkNodesNodeList:[]});else{var o=t.state.linkNodesNodeList;a="",a=n.pathLength>0?n.pathNameString+">"+n.nodeName:n.nodeName;for(var r=!0,d=0;d<o.length;d++){var i=o[d];i.retailer===e&&i.nodeId===n.nodeId&&i.nodePath===a&&(r=!1)}r&&o.push({retailer:e,nodeId:n.nodeId,nodePath:a}),t.setState({linkNodesNodeList:o})}},t.showRemoveButton=function(e){console.log(e);var n=document.getElementById(e);if(""===n.style.display||"none"===n.style.display){var t,a=document.getElementsByClassName("linkedNodeRemoveBtn");for(t=0;t<a.length;t++)a[t].style.display="none";n.style.display="block"}else n.style.display="none"},t.switchRetailerView=function(){t.setState({showFlipkartNodes:!t.state.showFlipkartNodes,showAmazonNodes:!t.state.showAmazonNodes},function(){this.state.showFlipkartNodes?document.getElementById("flipkart-outer-div").style.display="block":document.getElementById("flipkart-outer-div").style.display="none",this.state.showAmazonNodes?document.getElementById("amazon-outer-div").style.display="block":document.getElementById("amazon-outer-div").style.display="none"})},t.removeLink=function(){var e=Object(p.a)(f.a.mark(function e(n,a){var o,r,d;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),console.log(a),e.next=4,t.props.RemoveLink({variables:{nodeId:n.nodeId,nodeToDelete:{nodeId:a.nodeId,retailer:a.retailer,nodePath:a.nodePath}}});case 4:if(o=e.sent,console.log(o),!(o&&o.data&&o.data.removeLink)){e.next=31;break}if(r="",n={},d={},!(o.data.removeLink.amazonNodes&&o.data.removeLink.amazonNodes.length>0)){e.next=17;break}return n=o.data.removeLink.amazonNodes[0],r=n.pathLength>0?n.pathNameString+">"+n.nodeName:n.nodeName,(d=t.state.amNodes)[r].linkedNodes=n.linkedNodes,e.next=17,t.setState({amNodes:d});case 17:if(!(o.data.removeLink.flipkartNodes&&o.data.removeLink.flipkartNodes.length>0)){e.next=24;break}return n=o.data.removeLink.flipkartNodes[0],r=n.pathLength>0?n.pathNameString+">"+n.nodeName:n.nodeName,(d=t.state.fkNodes)[r].linkedNodes=n.linkedNodes,e.next=24,t.setState({fkNodes:d});case 24:if(!(o.data.removeLink.huddlieNodes&&o.data.removeLink.huddlieNodes.length>0)){e.next=31;break}return n=o.data.removeLink.huddlieNodes[0],r=n.pathLength>0?n.pathNameString+">"+n.nodeName:n.nodeName,(d=t.state.hdNodes)[r].linkedNodes=n.linkedNodes,e.next=31,t.setState({hdNodes:d});case 31:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}(),t.linkNodes=Object(p.a)(f.a.mark(function e(){var n,a,o,r,d,i,s,l,c,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state.linkNodesNode.nodeId,a=t.state.linkNodesNodeList,e.next=4,t.props.LinkNodes({variables:{nodeId:n,nodeList:a}});case 4:if(o=e.sent,console.log(o),r=[],d=[],!(o&&o.data&&o.data.linkNodes)){e.next=46;break}if(i="",s={},l={},!o.data.linkNodes.amazonNodes){e.next=25;break}d=o.data.linkNodes.amazonNodes,l=t.state.amNodes,c=0;case 16:if(!(c<d.length)){e.next=25;break}return s=d[c],i=s.pathLength>0?s.pathNameString+">"+s.nodeName:s.nodeName,l[i].linkedNodes=s.linkedNodes,e.next=22,t.setState({amNodes:l});case 22:c++,e.next=16;break;case 25:if(!o.data.linkNodes.flipkartNodes){e.next=38;break}r=o.data.linkNodes.flipkartNodes,l=t.state.fkNodes,u=0;case 29:if(!(u<r.length)){e.next=38;break}return s=r[u],i=s.pathLength>0?s.pathNameString+">"+s.nodeName:s.nodeName,l[i].linkedNodes=s.linkedNodes,e.next=35,t.setState({fkNodes:l});case 35:u++,e.next=29;break;case 38:if(!o.data.linkNodes.huddlieNodes){e.next=46;break}return s=o.data.linkNodes.huddlieNodes[0],i=s.pathLength>0?s.pathNameString+">"+s.nodeName:s.nodeName,(l=t.state.hdNodes)[i].linkedNodes=s.linkedNodes,e.next=45,t.setState({hdNodes:l});case 45:t.setState({linkNodesNode:{nodeId:"",nodePath:""},linkNodesNodeList:[]});case 46:case"end":return e.stop()}},e)})),t.setupNodesAsObj=function(){var e=Object(p.a)(f.a.mark(function e(n){var a,o,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.GetNodesAsObj({variables:{retailer:n}});case 2:a=e.sent,o={},a&&a.data&&a.data.getNodesAsObj&&a.data.getNodesAsObj.nodes&&""!==a.data.getNodesAsObj.nodes&&(o=JSON.parse(a.data.getNodesAsObj.nodes)),r="","hd"===n&&(r="hdNodes"),"am"===n&&(r="amNodes"),"fk"===n&&(r="fkNodes"),t.setState(Object(k.a)({},r,o),function(){console.log(this.state)});case 10:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),t.refreshTrees=Object(p.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setupNodesAsObj("hd");case 2:return e.next=4,t.setupNodesAsObj("fk");case 4:return e.next=6,t.setupNodesAsObj("am");case 6:case"end":return e.stop()}},e)})),t.handleToggleOnHover=function(){var e=t.state.toggleOnHover;t.setState({toggleOnHover:!e})},t.removeAddedNode=function(e,n){if("hd"===e)t.setState({linkNodesNode:{nodeId:"",nodePath:""}});else{var a=t.state.linkNodesNodeList.filter(function(t,a,o){return t.retailer!==e||t.nodeId!==n.nodeId||t.nodePath!==n.nodePath});t.setState({linkNodesNodeList:a})}},t}return Object(N.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this,n=this.getRootNodes("hd"),t=this.getRootNodes("fk"),a=this.getRootNodes("am");return o.a.createElement("div",{className:"custom-outer-div"},o.a.createElement("div",{className:"custom-box-container"},o.a.createElement("div",{className:"inner-container"},o.a.createElement("div",{className:"custom-row"},o.a.createElement("div",{className:"custom-row-left-30"}),o.a.createElement("div",{className:"custom-row-center-40"},o.a.createElement("button",{className:"custom-btn",onClick:this.refreshTrees},"Refresh")),o.a.createElement("div",{className:"custom-row-right-30"},o.a.createElement("div",{className:"custom-toggle-div"},o.a.createElement("label",{className:"custom-toggle-label"},"Toggle On Hover"),this.state.toggleOnHover?o.a.createElement(w.i,{className:"custom-toggle",onClick:this.handleToggleOnHover}):o.a.createElement(w.h,{className:"custom-toggle",onClick:this.handleToggleOnHover})))),(""!==this.state.linkNodesNode.nodeId||this.state.linkNodesNodeList.length>0)&&o.a.createElement("div",{className:"custom-row",style:{background:"#eee"}},o.a.createElement("div",{className:"custom-row-left-43"},o.a.createElement(_,null,this.state.linkNodesNodeList.map(function(n){return o.a.createElement(ee,{retailer:n.retailer,className:"added-node-inner-div",key:n.nodeId},o.a.createElement("label",null,n.nodePath),o.a.createElement(w.g,{onClick:function(){return e.removeAddedNode(n.retailer,n)}}))}))),o.a.createElement("div",{className:"custom-row-center-14 custom-align-center"},o.a.createElement("button",{className:"custom-btn custom-btn2",onClick:this.linkNodes},"Link Categories")),o.a.createElement("div",{className:"custom-row-right-43 custom-align-center"},""!==this.state.linkNodesNode.nodeId&&o.a.createElement(_,null,o.a.createElement(ee,{retailer:"hd",className:"added-node-inner-div"},o.a.createElement("label",null,this.state.linkNodesNode.nodePath),o.a.createElement(w.g,{onClick:function(){return e.removeAddedNode("hd",e.state.linkNodesNode)}}))))),o.a.createElement("div",{className:"mc-row"},o.a.createElement("div",{id:"retailer-outer-div",className:"mc-row-50"},o.a.createElement("div",{className:"custom-box-controller"},o.a.createElement("div",{className:this.state.showFlipkartNodes?"controller selected-controller":"controller",onClick:this.switchRetailerView},"Flipkart"),o.a.createElement("div",{className:this.state.showAmazonNodes?"controller selected-controller":"controller",onClick:this.switchRetailerView},"Amazon")),o.a.createElement("div",{id:"flipkart-outer-div"},t.map(function(n){return o.a.createElement(M,{node:n,getChildNodes:e.getChildNodes,onToggle:e.onToggle,retailer:"fk",key:n.nodeId,onHover:e.onHover,onSelectNode:e.onSelectNode,onAddNode:e.onAddNode,removeLink:e.removeLink,showRemoveButton:e.showRemoveButton})})),o.a.createElement("div",{id:"amazon-outer-div"},a.map(function(n){return o.a.createElement(M,{node:n,getChildNodes:e.getChildNodes,onToggle:e.onToggle,retailer:"am",key:n.nodeId,onHover:e.onHover,onSelectNode:e.onSelectNode,onAddNode:e.onAddNode,removeLink:e.removeLink,showRemoveButton:e.showRemoveButton})}))),o.a.createElement("div",{id:"huddlie-outer-div",className:"mc-row-50"},o.a.createElement("div",{className:"header"},"Huddlie"),n.map(function(n){return o.a.createElement(M,{node:n,getChildNodes:e.getChildNodes,onToggle:e.onToggle,retailer:"hd",key:n.nodeId,onHover:e.onHover,onSelectNode:e.onSelectNode,onAddNode:e.onAddNode,removeLink:e.removeLink,showRemoveButton:e.showRemoveButton})}))))))}}]),n}(a.Component),te=Object(s.b)(Object(s.c)(X,{name:"GetNodesAsObj"}),Object(s.c)(Y,{name:"LinkNodes"}),Object(s.c)(Z,{name:"RemoveLink"}))(ne),ae=function(e){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=Object(u.a)(this,(e=Object(m.a)(n)).call.apply(e,[this].concat(o)))).state={},t}return Object(N.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"custom-root-container"},o.a.createElement(te,null))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(90),t(91);var oe=new i.a({uri:"/graphql"});d.a.render(o.a.createElement(s.a,{client:oe},o.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[53,1,2]]]);
//# sourceMappingURL=main.941b7c81.chunk.js.map